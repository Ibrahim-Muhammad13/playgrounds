<div class="container">
  <div>
    <a class="btn px-2" id="addbtn" (click)="openAddForm()"> add Category</a>
  </div>

  <!-- START add category -->
  <div *ngIf="toDisplayAdd" class="modal-overlay">
    <div class="form-container form-group">
      <button type="button" class="form-close" (click)="closeAddForm()">&#215;</button>

      <div class="row">
        <div class="col md-9">
          <input type="text" class="form-control" placeholder="Add category" [(ngModel)]="categoryName" name="categoryName" #categoryNameInput="ngModel" required>

          <div class="error" *ngIf="categoryNameInput.invalid && categoryNameInput.touched">
            <span>category name is required.</span>
          </div>

          <div class="col md-12 mt-3">
            <span class="error">{{errorMessage}}</span>
          </div>

          <div class="col md-3">
            <button type="submit" class="btn btn-info mt-3" (click)="validationCreate()">add</button>
          </div>
          
        </div>
      </div>
    </div>
  </div>
  <!-- END add category -->


  <!-- START edit categories -->
 <div *ngIf="toedit" id="edit_form" class="modal-overlay">
  <div class="form-container form-group">
    <button type="button" class="form-close" (click)="closeEditForm()">&#215;</button>

    <div class="row">
      <div class="col md-9">
        <input type="text" class="form-control" placeholder="Edit category" [(ngModel)]="categoryNameEdit"
          name="categoryNameEdit" #categoryNameEditInput="ngModel" [value]="categoryNameEdit" required>

          <div class="error" *ngIf="categoryNameEditInput.invalid && categoryNameEditInput.touched">
            <span>category name is required.</span>
          </div>

          <div class="col md-12 mt-3">
            <span class="error">{{errorMessage}}</span>
          </div>

          <div class="col md-3">
            <button type="submit" class="btn btn-info mt-3" (click)="validationEdit()">Edit</button><br>
          </div>

      </div>
    </div>
  </div>
</div>
  <!-- END edit categories -->



  <!-- START display categories -->
  <table class="table text-center">

    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Category name</th>
        <th colspan="2">Action</th>

      </tr>
    </thead>
    <tbody *ngFor="let category of categories; index as i">
      <tr>
        <td scope="row">{{category.id}}</td>
        <td>{{category.name}}</td>
        <td><button type="button" class="btn btn-warning" (click)="openEditForm(category.id,i)">Edit</button></td>
        <td><button type="button" class="btn btn-danger" (click)="delete(category.id)">Delete</button></td>

    </tbody>
  </table>
  <!-- END display categories -->

</div>
